  <!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>WebVR Musical Instrument</title>
  <!-- A-Frame CDN -->
  <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
  <!-- Tone.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/0.10.0/Tone.min.js" charset="utf-8"></script>
  <!-- Our Synth Component -->
  <script src="synth-component.js" charset="utf-8"></script>
  <!-- <script src="player-component.js"></script> -->
  <script src="sound-player.js"></script>
  <script src="main.js"></script>
</head>

<body>
  <!-- A-Frame scene -->
  <a-scene antialias="true">
    <!-- plain white background -->
    <a-sky color="white"></a-sky>
    <!-- our scene's camera -->
    <a-camera position="0 0 2" user-height="0" wasd-controls="enabled: false">
      <!-- cursor with fuse enabled, allowing us to detect when it hovers over an entity -->
      <a-cursor fuse="true"></a-cursor>
    </a-camera>

    <!-- Room -->
      <!-- Floor -->
      <a-box id="floor"
        position="0 -1 0"
        geometry="height: 1; width: 10; depth: 10"
        color="#FFA500"
      ></a-box>

      <!-- Walls -->
      <a-box id="wall-front"
        position="0 2 -5.5"
        geometry="height: 6; width: 10; depth: 1"
        color="#FFA500"
        cursor="fuse: false">
      </a-box>

      <a-box id="wall-right"
        position="5.5 2 0"
        geometry="height: 6; width: 10; depth: 1"
        rotation="0 90 0"
        color="#FFA500"
        cursor="fuse: false">
      </a-box>

      <a-box id="wall-back"
        position="0 2 5.5"
        geometry="height: 6; width: 10; depth: 1"
        color="#FFA500"
        cursor="fuse: false">
      </a-box>

      <a-box id="wall-left"
        position="-5.5 2 0"
        geometry="height: 6; width: 10; depth: 1"
        rotation="0 90 0"
        color="#FFA500"
        cursor="fuse: false">
      </a-box>


    <!-- Synth Boxes -->

    <!-- Snyth box 1 -->
    <a-box
      id="box1"
      position="-3 0 -4"
      synth="note: C4"
      color="#21618c"
      segments-theta="64"
      animation__op="property: opacity; startEvents:fusing; dur:500; from:0.5; to:1;"
      animation__rot="property:rotation; startEvents:mousedown; dur:500; from: 0 0 0; to: 90 0 0;"
      ></a-box>

      <!-- Synth box 2 -->
      <a-box
        position="-2 0 -4"
        synth="note: D4"
        color="#2874a6"
        segments-theta="64"
        animation__op="property: opacity; startEvents:fusing; dur:500; from:0.5; to:1;"
        animation__rot="property:rotation; startEvents:mousedown; dur:500; from: 0 0 0; to: 90 0 0;"
      ></a-box>

      <!-- Synth box 3-->
      <a-box
        position="-1 0 -4"
        synth="note: E4"
        color="#2e86c1"
        segments-theta="64"
        animation__op="property: opacity; startEvents:fusing; dur:500; from:0.5; to:1;"
        animation__rot="property:rotation; startEvents:mousedown; dur:500; from: 0 0 0; to: 90 0 0;"
      ></a-box>

      <!-- Synth box 4 -->
      <a-box
        position="0 0 -4"
        synth="note: F4"
        color="#3498db"
        segments-theta="64"
        animation__op="property: opacity; startEvents:fusing; dur:500; from:0.5; to:1;"
        animation__rot="property:rotation; startEvents:mousedown; dur:500; from: 0 0 0; to: 90 0 0;"
      ></a-box>

      <!-- Synth box 5 -->
      <a-box
        position="1 0 -4"
        synth="note: G4"
        color="#5dade2"
        segments-theta="64"
        animation__op="property: opacity; startEvents:fusing; dur:500; from:0.5; to:1;"
        animation__rot="property:rotation; startEvents:mousedown; dur:500; from: 0 0 0; to: 90 0 0;"
      ></a-box>

      <!-- Synth box 6 -->
      <a-box
        position="2 0 -4"
        synth="note: A4"
        color="#85c1e9"
        segments-theta="64"
        animation__op="property: opacity; startEvents:fusing; dur:500; from:0.5; to:1;"
        animation__rot="property:rotation; startEvents:mousedown; dur:500; from: 0 0 0; to: 90 0 0;"
      ></a-box>

      <!-- Synth box 7 -->
      <a-box
        position="3 0 -4"
        synth="note: B4"
        color="#aed6f1"
        segments-theta="64"
        animation__op="property: opacity; startEvents:fusing; dur:500; from:0.5; to:1;"
        animation__rot="property:rotation; startEvents:mousedown; dur:500; from: 0 0 0; to: 90 0 0;"
      ></a-box>

      <a-box
        position="4 0 -4"
        sound="src: url(canary.mp3); on: fusing"
        color="#aed6f1"
        segments-theta="64"
        animation__op="property: opacity; startEvents:fusing; dur:500; from:0.5; to:1;"
        animation__rot="property:rotation; startEvents:mousedown; dur:500; from: 0 0 0; to: 90 0 0;"
      ></a-box>

      <a-box
        audiohandler="audio_id: bird"
        position="5 0 -4"
        color="black"
        segments-theta="64"
        animation__op="property: opacity; startEvents:fusing; dur:500; from:0.5; to:1;"
        animation__rot="property:rotation; startEvents:mousedown; dur:500; from: 0 0 0; to: 90 0 0;">
        <audio id="bird" src="./canary.mp3" preload="auto"></audio>
    </a-box>

      <!-- drums -->
      <a-assets>
        <a-asset-item id="drum-obj" src="./objects/drum/conga-hand-drum.obj"></a-asset-item>
        <a-asset-item id="drum-mtl" src="./objects/drum/conga-hand-drum.mtl"></a-asset-item>  
      </a-assets>

      <!-- cursor fuse must be false or else the sound will play when the cursor is on any object. -->
      <!-- <a-entity id="drum"
      cursor="fuse:false" 
      position="-2 0 0" 
      obj-model="obj: #drum-obj; mtl: #drum-mtl" 
      sound="src: url(electropop.mp3); startEvents: mousedown; on: fusing; loop: true"></a-entity> -->

      <a-entity id=""
        audiohandler="audio_id: drum"
        position="-2 0 0" 
        obj-model="obj: #drum-obj; mtl: #drum-mtl" 
        sound
        >
        <audio id="drum" src="./electropop.mp3" loop="true" preload="auto"></audio>
      </a-entity>

  </a-scene>
</body>

</html>
